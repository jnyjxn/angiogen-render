


IF ( BUILD_WRAPPERS )
    MESSAGE (STATUS "Build gvxrWrappers(s): ON")
    MESSAGE (STATUS "SimpleGVXR will be built (needed by gvxrWrappers)")
ELSE ( BUILD_WRAPPERS )
    MESSAGE (STATUS "Build Wrapper(s): OFF")
ENDIF ( BUILD_WRAPPERS )




INCLUDE(gvxr/cmake/ConfigureExternalProjects.cmake)


# gVirtualXRay #################################################################
OPTION ( USE_SYSTEM_gVirtualXRay "Use an external version of gVirtualXRay. " OFF )
MARK_AS_ADVANCED ( USE_SYSTEM_gVirtualXRay )
IF ( USE_SYSTEM_gVirtualXRay )
    FIND_PACKAGE( gVirtualXRay REQUIRED )
ELSE( USE_SYSTEM_gVirtualXRay )
    INCLUDE(External_gVirtualXRay)
    MESSAGE (STATUS "Build gVirtualXRay: ON")
    list(APPEND ${CMAKE_PROJECT_NAME}_DEPENDENCIES gVirtualXRay)

    IF ( BUILD_TESTING AND NOT USE_SYSTEM_GTEST )
        ADD_DEPENDENCIES(gvxr googletest)
    ENDIF ()

ENDIF( USE_SYSTEM_gVirtualXRay )


# SimpleGVXR ###################################################################
OPTION ( USE_SYSTEM_SimpleGVXR "Use an external version of SimpleGVXR. " OFF )
MARK_AS_ADVANCED ( USE_SYSTEM_SimpleGVXR )
IF ( USE_SYSTEM_SimpleGVXR )
    FIND_PACKAGE( SimpleGVXR REQUIRED )
ELSE( USE_SYSTEM_SimpleGVXR )
    INCLUDE(External_SimpleGVXR)
    MESSAGE (STATUS "Build SimpleGVXR: ON")

    list(APPEND ${CMAKE_PROJECT_NAME}_DEPENDENCIES SimpleGVXR)

    IF ( BUILD_TESTING AND NOT USE_SYSTEM_GTEST )
        ADD_DEPENDENCIES(SimpleGVXR googletest)
    ENDIF ()

    IF ( NOT USE_SYSTEM_gVirtualXRay )
        ADD_DEPENDENCIES(SimpleGVXR gvxr)
    ENDIF ()

ENDIF( USE_SYSTEM_SimpleGVXR )



IF ( BUILD_WRAPPERS )

    INCLUDE(External_Wrappers)
    MESSAGE (STATUS "Build gvxrWrappers(s): ON")

    list(APPEND ${CMAKE_PROJECT_NAME}_DEPENDENCIES Wrappers)

    IF ( BUILD_TESTING AND NOT USE_SYSTEM_GTEST )
        ADD_DEPENDENCIES(Wrappers googletest)
    ENDIF ()

    IF ( NOT USE_SYSTEM_gVirtualXRay )
        ADD_DEPENDENCIES(Wrappers gvxr)
    ENDIF ()

    IF ( NOT USE_SYSTEM_SimpleGVXR )
        ADD_DEPENDENCIES(Wrappers SimpleGVXR)
    ENDIF ()

ENDIF ( BUILD_WRAPPERS )
