# - Find FREEIMAGE
# Find the native FREEIMAGE includes and library
# This module defines
#  FREEIMAGE_INCLUDE_DIR, where to find freeimage.h, etc.
#  FREEIMAGE_LIBRARIES, the libraries needed to use FREEIMAGE.
#  FREEIMAGE_FOUND, If false, do not try to use FREEIMAGE.
# also defined, but not for general use are
#  FREEIMAGE_LIBRARY, where to find the FREEIMAGE library.

FIND_PATH(FREEIMAGE_INCLUDE_DIR NAMES FreeImage.h PATHS $ENV{FREEIMAGE_BASE_DIR}/include)

SET(FREEIMAGE_NAMES ${FREEIMAGE_NAMES} freeimage)
FIND_LIBRARY(FREEIMAGE_LIBRARY NAMES ${FREEIMAGE_NAMES} PATHS $ENV{FREEIMAGE_BASE_DIR}/lib)

# handle the QUIETLY and REQUIRED arguments and set FREEIMAGE_FOUND to TRUE if 
# all listed variables are TRUE
INCLUDE(FindPackageHandleStandardArgs)
FIND_PACKAGE_HANDLE_STANDARD_ARGS(FREEIMAGE DEFAULT_MSG FREEIMAGE_LIBRARY FREEIMAGE_INCLUDE_DIR)

IF(FREEIMAGE_FOUND)
  SET(FREEIMAGE_LIBRARIES ${FREEIMAGE_LIBRARY})
ENDIF(FREEIMAGE_FOUND)

# Deprecated declarations.
SET (NATIVE_FREEIMAGE_INCLUDE_PATH ${FREEIMAGE_INCLUDE_DIR} )
IF(FREEIMAGE_LIBRARY)
  GET_FILENAME_COMPONENT (NATIVE_FREEIMAGE_LIB_PATH ${FREEIMAGE_LIBRARY} PATH)
ENDIF(FREEIMAGE_LIBRARY)

MARK_AS_ADVANCED(FREEIMAGE_LIBRARY FREEIMAGE_INCLUDE_DIR)
